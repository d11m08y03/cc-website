# Database Schema Overview

This document outlines the SQLite database schema for the university club website. The design is centered around a few core entities (`users`, `events`, `organisers`) and uses relationship tables to connect them.

---

## Core Entities

These are the main tables that represent the primary "things" in the application.

### `users`

Stores user accounts for authentication and identification.

- `id`: Primary Key.
- `name`: The user's full name.
- `email`: The user's unique email, used for login.
- `hashedPassword`: The secure, hashed password for credential-based login.
- `isAdmin`: A boolean flag (`0` or `1`) for global admin privileges.
- `createdAt`: Timestamp of when the user account was created.

### `events`

The central table for all club events.

- `id`: Primary Key.
- `name`: The official name of the event (e.g., "Fall Hackathon 2024").
- `description`: A detailed description of the event.
- `eventDate`: The date and time the event took place.
- `location`: The physical or virtual location of the event.
- `createdAt`: Timestamp of when the event record was created.

### `organisers`

Stores details for the people who organize events. This is kept separate from the `users` table.

- `id`: Primary Key.
- `name`: The organiser's full name.
- `profilePicUrl`: A direct URL to the organiser's single profile picture.
- `createdAt`: Timestamp of when the organiser was added.

---

## Relationship & Supporting Tables

These tables connect the core entities or provide utility functionality.

### `event_photos`

Manages the photo gallery for each event, modeling a **one-to-many** relationship (one event has many photos).

- `id`: Primary Key.
- `url`: The URL of the photo.
- `caption`: An optional caption for the photo.
- `eventId`: A foreign key linking the photo to the `events` table.

### Junction Tables (Many-to-Many)

These tables link two core entities together, allowing for flexible many-to-many relationships.

- **`events_to_organisers`**: Links events to their organisers.
  - `eventId`: Foreign Key to `events`.
  - `organiserId`: Foreign Key to `organisers`.
- **`event_participants`**: Links users to events they participated in.
  - `eventId`: Foreign Key to `events`.
  - `userId`: Foreign Key to `users`.
- **`event_judges`**: Links users to events they judged.
  - `eventId`: Foreign Key to `events`.
  - `userId`: Foreign Key to `users`.

### `app_logs`

A central table for application-wide logging for debugging and monitoring.

- `id`: Primary Key.
- `timestamp`: When the log entry was created.
- `level`: The log severity (`info`, `warn`, `error`, `debug`).
- `message`: The main log message.
- `correlationId`: A unique ID to group all logs generated by a single API request.
- `context`: The part of the application the log came from (e.g., `AuthService`).
- `meta`: A field for storing extra JSON data, like a stack trace.
- `userId`: A foreign key linking the log to the user who triggered the action, if any.
